d = readRDS('data/games.rds')
d = d %>% 
  filter(lg=='nba', season %in% 2022, season.type=='reg') %>%
  select(date, away, home, ascore, hscore, season, gid)
head(d)

dg = d %>% # number of games played at each location
  group_by(away, home) %>%
  summarise(games = n()) %>% 
  ungroup() %>%
  complete(away, home, fill=list(games=0)) ## new function! -> (data, category, value) addresses missing values, but filling them with O
head(dg)
```


```{r fig.height=7, fig.width=7}
## your code here

ggplot(dg, 
       aes(x=home, y = away, fill = as.character(games)))+ 
  geom_tile(color = 'black') + 
  theme_pub() +
  theme(axis.text.x = element_text(angle = 90, 
                                    hjust = 1, 
                                    vjust = 0.3)) +
labs(title = "Number of Games Played Between Teams in 2022 Season",
     x = "Home Team",
     y = "Away Team",
     fill = "Number of Games Played") +
  scale_fill_manual(values = c("0" = "white","1" = "dodgerblue1", "2" = "orangered3"))
```
          
